# Project: AI Test Platform

# Stack: Next.js 16 + TypeScript + Tailwind + Prisma + NextAuth + shadcn/ui

## æŠ€æœ¯é“å¾‹

- Mobile-first: é»˜è®¤ç§»åŠ¨ç«¯ï¼Œæ–­ç‚¹ sm: md: lg:
- ç»„ä»¶ï¼šå‡½æ•°å¼ + Hooksï¼Œç¦æ­¢ Class
- ç±»å‹ï¼šç¦æ­¢ anyï¼Œæ‰€æœ‰ API è¿”å›å®šä¹‰ interface
- æ ·å¼ï¼šåªç”¨ Tailwind æ ‡å‡†è‰² slate/blueï¼Œç¦æ­¢ arbitrary values
- å›¾æ ‡ï¼šåªç”¨ Lucide React
- æ•°æ®åº“ï¼šPrisma ORMï¼ŒSQLite(å¼€å‘)/PostgreSQL(ç”Ÿäº§)
- è®¤è¯ï¼šNextAuth.js v4ï¼Œæ”¯æŒé‚®ç®±/å¯†ç ç™»å½•

## å‰ç«¯è®¾è®¡è§„èŒƒ

### å­—ä½“è§„èŒƒ
- ä¸»å­—ä½“: Inter, system-ui, sans-serif
- å­—é‡å±‚çº§: 
  * æ ‡é¢˜: font-bold (700)
  * æ­£æ–‡: font-normal (400)
  * è¾…åŠ©: font-medium (500)
- è¡Œé«˜: leading-relaxed (1.625) / leading-tight (1.25)
- å­—å¤§å°: text-xs/sm/base/lg/xl/2xl/3xl

### é¢œè‰²è§„èŒƒ
- ä¸»è‰²: slate-900, blue-600
- è¾…åŠ©è‰²: slate-500, blue-400
- èƒŒæ™¯è‰²: white, slate-50, slate-100
- æ–‡å­—è‰²: slate-900, slate-600, slate-400
- å¼ºè°ƒè‰²: red-500, green-500
- âš ï¸ ç¦æ­¢ä½¿ç”¨é»˜è®¤æ¸å˜è‰²ï¼Œé™¤éè®¾è®¡ç¨¿æ˜ç¡®ä½¿ç”¨

### é—´è·è§„èŒƒ
- åŸºç¡€å•ä½: 4px (Tailwind spacing-1)
- å¸¸ç”¨é—´è·: 4/8/12/16/24/32/48px (space-1/2/3/4/6/8/12)
- å®¹å™¨æœ€å¤§å®½åº¦: max-w-7xl (1280px)
- é¡µé¢å†…è¾¹è·: px-4 sm:px-6 lg:px-8

### åŠ¨æ•ˆè§„èŒƒ
- è¿‡æ¸¡æ—¶é—´: duration-200 (å¿«é€Ÿ) / duration-300 (æ ‡å‡†) / duration-500 (æ…¢é€Ÿ)
- ç¼“åŠ¨å‡½æ•°: ease-out (é»˜è®¤) / ease-in-out (å¯¹ç§°)
- æ‚¬åœæ•ˆæœ: hover:scale-105 / hover:shadow-lg
- ç„¦ç‚¹çŠ¶æ€: focus:ring-2 focus:ring-blue-500

### åœ†è§’è§„èŒƒ
- å°å…ƒç´ : rounded (4px)
- æŒ‰é’®/è¾“å…¥æ¡†: rounded-md (6px) / rounded-lg (8px)
- å¡ç‰‡: rounded-xl (12px) / rounded-2xl (16px)
- å…¨åœ†: rounded-full

## æ–‡ä»¶è·¯å¾„çº¦å®š

- é¡µé¢ï¼šsrc/app/[route]/page.tsx
- å¸ƒå±€ï¼šsrc/app/[route]/layout.tsx
- ç»„ä»¶ï¼šsrc/components/[Name]/index.tsx
- å·¥å…·ï¼šsrc/lib/utils.ts
- ç±»å‹ï¼šsrc/types/index.ts
- APIï¼šsrc/app/api/[route]/route.ts
- Hooksï¼šsrc/lib/hooks/use-[name].ts

## æ•°æ®æ¨¡å‹å±‚çº§

```
Workspaceï¼ˆå·¥ä½œç©ºé—´ï¼‰
  â””â”€â”€ Projectï¼ˆé¡¹ç›®ï¼‰
        â””â”€â”€ Systemï¼ˆç³»ç»Ÿï¼‰
              â””â”€â”€ Pageï¼ˆé¡µé¢ï¼‰
                    â””â”€â”€ TestCaseï¼ˆæµ‹è¯•ç”¨ä¾‹ï¼‰
```

## æƒé™æ¨¡å‹

- ADMIN: å…¨éƒ¨æƒé™ï¼ˆç”¨æˆ·ç®¡ç†ã€ç³»ç»Ÿé…ç½®ï¼‰
- USER: å·¥ä½œç©ºé—´ç®¡ç†ã€æµ‹è¯•ç”¨ä¾‹ç®¡ç†
- GUEST: åªè¯»è®¿é—®

## å½“å‰ç›®æ ‡

P1 åŠŸèƒ½å¼€å‘å®Œæˆ - 2026-02-25

- âœ… æ—¥å¿—åŠŸèƒ½ï¼ˆå·²å®Œæˆï¼‰
- âœ… å®šæ—¶ä»»åŠ¡ï¼ˆå·²å®Œæˆï¼‰
- âœ… Bug ç®¡ç†ï¼ˆå·²å®Œæˆï¼‰
- âœ… CI/CD Webhookï¼ˆå·²å®Œæˆï¼‰
- âœ… æŠ¥å‘Šå¯¼å‡ºï¼ˆå·²å®Œæˆï¼‰

ğŸ‰ P1 æ–°åŠŸèƒ½å…¨éƒ¨å¼€å‘å®Œæˆï¼

## å·²å®Œæˆ

- [x] é¡¹ç›®åˆå§‹åŒ– (Next.js + shadcn)
- [x] æ•°æ®åº“é…ç½® (Prisma + SQLite)
- [x] è®¤è¯ç³»ç»Ÿ (NextAuth)
- [x] å·¥ä½œç©ºé—´/é¡¹ç›®/ç³»ç»Ÿ/é¡µé¢ å±‚çº§ç®¡ç†
- [x] æµ‹è¯•ç”¨ä¾‹ç®¡ç†ï¼ˆæ‰‹åŠ¨åˆ›å»ºï¼‰
- [x] AI ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼ˆæ”¯æŒæ¨¡æ‹Ÿæ•°æ®ï¼‰
- [x] æµ‹è¯•å¥—ä»¶ç®¡ç†
- [x] ä»ªè¡¨ç›˜åŠŸèƒ½
- [x] ç”¨æˆ·ç®¡ç†ï¼ˆç®¡ç†å‘˜ï¼‰
- [x] ç³»ç»Ÿé…ç½®
- [x] çŸ¥è¯†åº“åŠŸèƒ½
- [x] é€šçŸ¥ç³»ç»Ÿ
- [x] UI/UXä¼˜åŒ–ï¼ˆä¸»é¢˜ã€å¯¼èˆªæ ç¼©æ”¾ï¼‰

## æŠ€æœ¯å€ºåŠ¡

- [x] éœ€è¦æŠŠ API é”™è¯¯å¤„ç†å°è£…åˆ° lib/api.ts âœ… (TDDç¬¬1è½®å®Œæˆ)
  - âœ… ApiError ç±»å°è£…
  - âœ… 401/403 è‡ªåŠ¨è·³è½¬
  - âœ… è‡ªåŠ¨é‡è¯•æœºåˆ¶ (3æ¬¡)
  - âœ… é”™è¯¯æ—¥å¿—è®°å½•
  - âœ… ç»Ÿä¸€é”™è¯¯æ ¼å¼
- [x] è¡¨å•é”™è¯¯æç¤ºæ ·å¼ä¸ç»Ÿä¸€ âœ… (TDDç¬¬2è½®å®Œæˆ)
  - âœ… FormFieldError ç»„ä»¶ (å­—æ®µçº§é”™è¯¯)
  - âœ… FormError ç»„ä»¶ (è¡¨å•çº§é”™è¯¯)
  - âœ… useFormError Hook (APIé”™è¯¯æ˜ å°„)
  - âœ… æ”¯æŒ Zod/400 éªŒè¯é”™è¯¯è‡ªåŠ¨æ˜ å°„
- [x] å®šæ—¶æ‰§è¡ŒåŠŸèƒ½ç©ºå£³ âœ… (TDDç¬¬3è½®å®Œæˆ)
  - âœ… Cron è§£æå¼•æ“ (lib/scheduler.ts)
  - âœ… TaskRunner ä»»åŠ¡æ‰§è¡Œå™¨
  - âœ… è‡ªåŠ¨è°ƒåº¦ç®¡ç† (setTimeout)
  - âœ… æ”¯æŒ _/5, 0 _, 0 0 \* \* \* ç­‰è¡¨è¾¾å¼

## ç³»ç»Ÿé‡æ„è¿›åº¦

### é‡æ„ç›®æ ‡

- è·¯ç”±: 18 â†’ 8 é¡¹
- æ¨¡å‹: 26 â†’ 14 ä¸ª
- API: 58 â†’ 30 ä¸ª

### è¿›åº¦

- [x] Phase 1: æ¶æ„æµ‹è¯• âœ… (18 tests)
- [x] Phase 2: æ¨¡å‹å±‚é‡æ„ âœ… (æ–°æ¨¡å‹ + APIé‡å®šå‘)
- [x] Phase 3: UIå±‚é‡æ„ âœ… (é¡µé¢åˆå¹¶)
  - âœ… æµ‹è¯•ä¸­å¿ƒ (/tests) - åˆå¹¶ç”¨ä¾‹/å¥—ä»¶/AI
  - âœ… æ‰§è¡Œä¸­å¿ƒ (/runs) - åˆå¹¶å†å²/å®šæ—¶ä»»åŠ¡
  - âœ… è´¨é‡çœ‹æ¿ (/quality) - åˆå¹¶Bug/æŠ¥å‘Š
  - âœ… èµ„äº§åº“ (/assets) - åˆå¹¶çŸ¥è¯†åº“/é¡µé¢
  - âœ… ç»Ÿä¸€è®¾ç½® (/settings) - åˆå¹¶æ‰€æœ‰è®¾ç½®
- [x] Phase 4: å›å½’æµ‹è¯• âœ… (24 tests)
  - âœ… æ–°æ¨¡å‹ CRUD æµ‹è¯•
  - âœ… API å“åº”æ ¼å¼æµ‹è¯•
  - âœ… æ•°æ®å®Œæ•´æ€§æµ‹è¯•
  - âœ… åŠŸèƒ½å¯¹ç­‰æ€§æµ‹è¯•
- [x] Phase 5: å®Œå–„åŠŸèƒ½ âœ…
  - âœ… é›†æˆé¡µé¢ (/integrations) + æ·»åŠ è¡¨å•
  - âœ… æ–°å»ºç”¨ä¾‹/å¥—ä»¶ (/tests/new)
  - âœ… ä¸ŠæŠ¥é—®é¢˜ (/quality/issues/new)
  - âœ… æ‰€æœ‰é¡µé¢è¿æ¥ API
- [x] Phase 6: æ¸…ç†æ—§ä»£ç  âœ…
  - âœ… é€šçŸ¥ç³»ç»Ÿ (/inbox)
  - âœ… åˆ é™¤ 11 ä¸ªæ—§ç›®å½• (testcases, suites, executionsç­‰)
  - âœ… ç³»ç»Ÿå®Œå…¨è¿ç§»åˆ°æ–°æ¶æ„
- [x] Phase 7: ä¿®å¤æœ¬åœ°è¿è¡Œ âœ…
  - âœ… é‡æ–°ç”Ÿæˆ Prisma Client
  - âœ… æ¸…ç† 60 ä¸ªæ—§ API è·¯ç”±
  - âœ… æ„å»ºæˆåŠŸ
  - âœ… å¯æ­£å¸¸å¯åŠ¨å¼€å‘æœåŠ¡å™¨

## ç³»ç»Ÿå¯åŠ¨

```bash
cd ai-test-platform/my-app
npm run dev
```

è®¿é—®: http://localhost:3000

## æ–°æ¶æ„æ¦‚è§ˆ

```
å¯¼èˆª (8é¡¹):
â”œâ”€â”€ ä»ªè¡¨ç›˜ (/dashboard)
â”œâ”€â”€ æµ‹è¯•ä¸­å¿ƒ (/tests)        - ç”¨ä¾‹/å¥—ä»¶/AI
â”œâ”€â”€ æ‰§è¡Œä¸­å¿ƒ (/runs)         - å†å²/å®šæ—¶ä»»åŠ¡
â”œâ”€â”€ è´¨é‡çœ‹æ¿ (/quality)      - é—®é¢˜/æŠ¥å‘Š
â”œâ”€â”€ èµ„äº§åº“ (/assets)         - æ–‡æ¡£/é¡µé¢
â”œâ”€â”€ é›†æˆ (/integrations)     - Webhookç®¡ç†
â”œâ”€â”€ é€šçŸ¥ (/inbox)           - é€šçŸ¥ä¸­å¿ƒ
â””â”€â”€ è®¾ç½® (/settings)        - ç»Ÿä¸€è®¾ç½®

API (6ä¸ª):
â”œâ”€â”€ /api/tests        - æµ‹è¯•ç®¡ç†
â”œâ”€â”€ /api/runs         - æ‰§è¡Œç®¡ç†
â”œâ”€â”€ /api/issues       - é—®é¢˜ç®¡ç†
â”œâ”€â”€ /api/assets       - èµ„äº§ç®¡ç†
â”œâ”€â”€ /api/integrations - é›†æˆç®¡ç†
â””â”€â”€ /api/health       - å¥åº·æ£€æŸ¥

æ¨¡å‹ (14ä¸ª):
â”œâ”€â”€ Test         (å–ä»£ TestCase/TestSuite)
â”œâ”€â”€ Run          (å–ä»£ TestRun/Execution)
â”œâ”€â”€ Execution    (æ‰§è¡Œè¯¦æƒ…)
â”œâ”€â”€ Issue        (å–ä»£ Bug)
â”œâ”€â”€ Asset        (å–ä»£ Knowledge/Page)
â”œâ”€â”€ Integration  (å–ä»£ Webhook)
â”œâ”€â”€ Delivery     (æŠ•é€’è®°å½•)
â”œâ”€â”€ Inbox        (é€šçŸ¥)
â””â”€â”€ Activity     (æ´»åŠ¨æ—¥å¿—)
```

### æ–°å¯¼èˆªç»“æ„

```
ä»ªè¡¨ç›˜      â†’ ä¿æŒç‹¬ç«‹
æµ‹è¯•ä¸­å¿ƒ    â†’ åˆå¹¶: ç”¨ä¾‹/å¥—ä»¶/AI
æ‰§è¡Œä¸­å¿ƒ    â†’ åˆå¹¶: å†å²/å®šæ—¶ä»»åŠ¡
è´¨é‡çœ‹æ¿    â†’ åˆå¹¶: Bug/æŠ¥å‘Š
èµ„äº§åº“      â†’ åˆå¹¶: çŸ¥è¯†åº“/é¡µé¢
é›†æˆ        â†’ Webhook
é€šçŸ¥        â†’ ä¿æŒç‹¬ç«‹
è®¾ç½®        â†’ åˆå¹¶æ‰€æœ‰è®¾ç½®
```

## æµ‹è¯•è¦†ç›–

```bash
npm test              # è¿è¡Œæ‰€æœ‰æµ‹è¯• (60 tests)
npm run test:coverage # æŸ¥çœ‹è¦†ç›–ç‡
```

å½“å‰æµ‹è¯• (104 tests):

- src/lib/**tests**/api.test.ts (11 tests)
- src/lib/**tests**/form-error.test.tsx (9 tests)
- src/lib/**tests**/scheduler.test.ts (12 tests)
- src/lib/**tests**/refactor-architecture.test.ts (18 tests)
- src/lib/**tests**/refactor-api-redirect.test.ts (20 tests)
- src/lib/**tests**/refactor-ui-navigation.test.tsx (10 tests)
- src/lib/**tests**/refactor-regression.test.ts (24 tests)

## ç¯å¢ƒé…ç½®

```bash
# å¼€å‘è´¦å·
demo@example.com / password123
admin@example.com / admin123

#æŸ¥çœ‹ç«¯å£å ç”¨
netstat -ano | findstr :3000
#æ€æ­»å ç”¨è¿›ç¨‹
taskkill /PID 17792 /F

# å¯åŠ¨å‘½ä»¤
cd ai-test-platform/my-app
npm run dev
```
