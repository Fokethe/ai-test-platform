# AI Test Platform - 产品需求文档

> 本文档包含所有产品功能需求，基于Kimi Code规范合并整理
> 最后更新: 2026-02-24

---

## 1. 产品概述

### 1.1 产品定位

AI Test Platform 是一个**零代码友好的智能测试平台**，通过 AI 辅助和可视化操作，帮助 QA 团队、产品经理甚至非技术人员高效完成测试工作。

### 1.2 目标用户

| 用户角色       | 核心需求                           | 使用场景               |
| -------------- | ---------------------------------- | ---------------------- |
| **QA 工程师**  | 快速设计用例、自动化执行、生成报告 | 日常测试工作、回归测试 |
| **产品经理**   | 验证需求实现、快速验收             | 版本验收、需求验证     |
| **开发人员**   | 自测、Bug 复现                     | 开发自测、Bug 修复验证 |
| **0 代码用户** | 无需编程即可做自动化测试           | 简单项目测试、学习使用 |

### 1.3 核心价值主张

- 🚀 **10 倍效率**：AI 辅助生成测试用例，减少 80% 设计时间
- 🎯 **零门槛**：无需编程基础，可视化操作
- 🤖 **智能化**：AI 自动分析需求、生成用例、发现 Bug
- 📊 **可视化**：直观的数据看板和测试报告

---

## 2. 功能需求

### 2.1 用户管理模块

#### 2.1.1 用户注册/登录

- 邮箱注册（验证码验证）
- 密码登录
- 记住登录状态（7天）
- 忘记密码重置

#### 2.1.2 权限管理

- **ADMIN**: 全部权限（用户管理、系统配置）
- **USER**: 工作空间管理、测试用例管理
- **GUEST**: 只读访问

#### 2.1.3 个人设置

- 修改个人资料（昵称、头像）
- 修改密码
- API Key 管理（对接 Kimi）
- 通知设置

### 2.2 系统管理模块

#### 2.2.1 工作空间（Workspace）

- 一个用户可加入多个工作空间
- 工作空间内包含多个项目
- 支持工作空间成员邀请/移除

#### 2.2.2 项目管理

- 创建/编辑/删除项目
- 项目基础信息：名称、描述、状态
- 项目成员管理
- 项目数据统计

#### 2.2.3 系统（System）管理

- 一个项目下可创建多个系统
- 系统代表被测的独立应用/服务
- 系统配置：基础 URL、环境变量

#### 2.2.4 页面（Page）管理

- 一个系统下可创建多个页面
- 页面代表具体的测试对象（Web 页面/APP 页面/API）
- 页面元素管理（用于 UI 自动化）

### 2.3 需求管理模块

#### 2.3.1 需求导入

- **支持格式**：Word、PDF、Excel、Markdown、纯文本
- **导入方式**：
  - 本地上传文件
  - 粘贴文本内容
  - 对接第三方（Jira、Notion、飞书文档）

#### 2.3.2 需求解析

- AI 自动提取需求点
- 生成需求结构化数据（标题、描述、验收标准）
- 支持人工编辑和补充

#### 2.3.3 需求关联

- 需求与测试用例关联
- 需求覆盖度统计

### 2.4 测试用例模块

#### 2.4.1 AI 生成测试用例

- **输入**：需求文档/用户故事/功能描述
- **输出**：测试用例（标题、前置条件、步骤、预期结果）
- **策略**：
  - 正向用例（正常流程）
  - 反向用例（异常流程）
  - 边界值用例
  - 探索性测试建议
- **类型支持**：Web用例、APP用例（iOS/Android）、API接口用例

#### 2.4.2 用例编辑

- 富文本编辑器（步骤、预期结果）
- 用例参数化（数据驱动）
- 用例标签管理
- 用例优先级（P0/P1/P2/P3）

#### 2.4.3 用例组织

- 用例集（TestSuite）管理
- 文件夹层级管理
- 用例复用（跨项目复制）

#### 2.4.4 批量操作（待开发）

- 批量选择（复选框）
- 批量删除
- 批量执行
- 批量导出（JSON/CSV）
- 批量修改优先级/状态

### 2.5 自动化执行模块

#### 2.5.1 测试执行

- **执行方式**：
  - 立即执行
  - 定时执行（Cron表达式）
  - CI/CD 触发
- **执行环境**：
  - 云端浏览器（Playwright）
  - 本地浏览器（需安装 Runner）
- **并发控制**：支持并行执行

#### 2.5.2 执行记录

- 每次执行的详细日志
- 步骤截图（失败时自动截图）
- 视频录制（可选）
- 执行耗时统计

#### 2.5.3 定时任务

- Cron 表达式设置
- 定时回归测试
- 执行结果通知（邮件/钉钉/企业微信）

### 2.6 Bug 管理模块

#### 2.6.1 Bug 自动录入

- 测试失败自动生成 Bug 草稿
- AI 分析失败原因并归类
- 一键提交到 Bug 系统（Jira/Tapd/禅道）

#### 2.6.2 Bug 追踪

- Bug 状态流转（新建→处理中→已修复→待验证→关闭）
- Bug 关联测试用例
- Bug 修复后自动回归验证

### 2.7 测试报告模块

#### 2.7.1 实时报告

- 测试执行过程中实时更新结果
- 进度百分比显示
- 通过率/失败率统计

#### 2.7.2 测试报告生成

- **报告类型**：
  - 单次执行报告
  - 迭代报告（多轮对比）
  - 趋势报告（历史数据分析）
- **报告内容**：
  - 执行概况（总数/通过/失败/跳过）
  - 用例详情（步骤、截图、日志）
  - 问题汇总（失败原因分析）
  - AI 分析建议

#### 2.7.3 报告导出

- 支持 PDF、HTML、Excel 导出
- 邮件自动发送报告

### 2.8 仪表盘功能（已完成）

#### 2.8.1 核心指标卡片

| 指标     | 说明               | 数据来源            |
| -------- | ------------------ | ------------------- |
| 总用例数 | 系统中测试用例总数 | TestCase表count     |
| 今日执行 | 今日执行次数       | Execution表今日统计 |
| 通过率   | 最近7天执行通过率  | Execution表聚合     |
| 失败数   | 最近7天失败次数    | Execution表聚合     |

#### 2.8.2 执行趋势图表

- 折线图展示最近7天/30天/90天执行趋势
- X轴：日期
- Y轴：执行次数
- 双曲线：通过次数 + 失败次数

#### 2.8.3 最近执行记录

- 列表展示最近10条执行记录
- 字段：用例名称、状态、执行时间、耗时

#### 2.8.4 快捷操作

- 快速创建测试用例
- 快速创建测试套件
- 跳转到AI生成

### 2.9 日志功能（待开发）

#### 2.9.1 日志类型

| 类型     | 说明     | 记录内容              |
| -------- | -------- | --------------------- |
| 操作日志 | 用户操作 | CRUD操作、登录/登出   |
| 系统日志 | 系统事件 | 错误、警告、启动/停止 |
| 执行日志 | 测试执行 | 用例执行结果、耗时    |

#### 2.9.2 日志字段

- id, type, level, userId, action, target, message, details, ip, createdAt

#### 2.9.3 功能

- 自动记录关键操作
- 日志查询（按类型、时间、用户）
- 日志导出
- 分页显示

### 2.10 UI布局优化（待开发）

#### 2.10.1 优化目标

- 将底部功能区移至右上角Header
- 统一主题设置入口
- 优化侧边栏空间利用
- 提升整体视觉层次

#### 2.10.2 Header新增元素

| 图标  | 功能     | 说明              |
| ----- | -------- | ----------------- |
| 🔍    | 全局搜索 | 快速搜索用例/套件 |
| 🔔    | 通知中心 | 系统通知入口      |
| 🌙/☀️ | 主题切换 | 浅色/深色切换     |
| ⌨️    | 快捷键   | 快捷键帮助        |

#### 2.10.3 侧边栏简化

- 移除底部功能区
- 保留头像（仅显示）
- 点击头像展开简化菜单

### 2.11 AI 智能助手模块

#### 2.11.1 AI 测试建议

- 基于需求分析给出测试建议
- 识别遗漏的测试场景
- 风险评估

#### 2.11.2 AI Bug 分析

- 分析 Bug 根因
- 推荐修复建议
- 预测 Bug 影响范围

#### 2.11.3 自然语言转用例

- 用户用自然语言描述场景
- AI 自动转换为结构化用例
- 参考 Dify/Coze 的 Agent 模式

### 2.12 CI/CD 集成模块

#### 2.12.1 Webhook 触发

- 接收 Jenkins/GitLab CI/GitHub Actions 触发
- 支持自定义触发条件

#### 2.12.2 API 接口

- 提供完整的 REST API
- API 鉴权（Token）
- SDK 支持（Python/Node.js）

#### 2.12.3 质量门禁

- 设置通过标准（如：通过率 > 95%）
- 质量不达标阻止发布

---

## 3. 非功能需求

### 3.1 性能需求

- 页面加载时间 < 2s
- AI 生成用例响应时间 < 10s
- 支持 1000+ 并发测试执行

### 3.2 安全需求

- 数据加密存储（敏感信息 AES 加密）
- API 访问限流
- SQL 注入防护
- XSS 防护

### 3.3 可用性需求

- 系统可用性 > 99.5%
- 数据定期备份
- 支持故障恢复

### 3.4 兼容性需求

- 浏览器：Chrome、Edge、Firefox、Safari（最新 2 个版本）
- 移动端：iOS Safari、Android Chrome（响应式适配）

---

## 4. 优先级规划

### P0 - 核心功能（MVP 必须）

- [x] 用户注册/登录
- [x] 工作空间/项目/系统/页面管理
- [x] 需求导入和解析
- [x] AI 生成测试用例
- [x] 测试用例管理
- [x] 测试执行（单次）
- [x] 测试报告查看
- [x] 仪表盘功能

### P1 - 重要功能（V1.1）

- [ ] 批量操作功能
- [ ] 日志功能
- [ ] 定时任务
- [ ] Bug 管理
- [ ] CI/CD Webhook
- [ ] 报告导出

### P2 - 增强功能（V1.2）

- [ ] UI布局优化
- [ ] 可视化录制
- [ ] AI Bug 分析
- [ ] 第三方集成（Jira/禅道）
- [ ] 团队协作增强

### P3 - 高级功能（V2.0）

- [ ] 性能测试
- [ ] 移动端真机测试
- [ ] AI 自愈测试
- [ ] 多语言支持

---

## 5. 用户旅程

### 5.1 新用户首次使用旅程

| 阶段     | 用户行为                   | 触点      | 情感曲线 | 机会点             |
| -------- | -------------------------- | --------- | -------- | ------------------ |
| **认知** | 听说产品，产生兴趣         | 官网/推荐 | 😐→🙂    | 展示核心卖点       |
| **注册** | 填写邮箱/手机号注册        | 注册页    | 🙂       | 简化流程，一键注册 |
| **引导** | 完成新手引导               | 引导页    | 😊       | 交互式教程         |
| **创建** | 创建工作空间 → 项目 → 系统 | 管理页    | 😊       | AI 助手辅助        |
| **体验** | 导入需求 → AI 生成用例     | 用例页    | 🤩       | 展示 AI 能力       |
| **执行** | 运行第一个测试             | 执行页    | 🤩→🎉    | 即时反馈           |
| **留存** | 查看报告，分享结果         | 报告页    | 🎉       | 社交分享           |

### 5.2 Demo 核心流程

```
登录成功
    │
    ▼
工作台首页 → 创建工作空间 → 创建项目 → 创建系统 → 创建页面
    │
    ▼
需求导入 → AI 解析需求 → AI 生成测试用例 → 用例管理 → 执行测试 → 查看报告
```

---

## 6. 附录

### 6.1 术语表

| 术语       | 说明                          |
| ---------- | ----------------------------- |
| Workspace  | 工作空间，团队/组织的隔离单位 |
| Project    | 项目，一个完整的产品/版本     |
| System     | 系统，被测的应用/服务         |
| Page       | 页面，具体的测试对象          |
| TestCase   | 测试用例，单个测试场景        |
| TestSuite  | 用例集，多个用例的集合        |
| Playwright | 自动化测试框架                |
| Cron       | 定时任务表达式                |

### 6.2 参考产品

- Dify - AI 工作流设计参考
- Coze - AI Agent 设计参考
- Postman - API 测试参考
- Selenium IDE - 录制回放参考
- TestRail - 用例管理参考

---

**文档版本**: v1.0  
**最后更新**: 2026-02-24  
**作者**: AI Test Platform Team
