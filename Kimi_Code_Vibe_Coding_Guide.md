# Kimi Code 实战圣经：一人即团队的全栈开发指南

> **适用版本**：Kimi K2.5+ Code 功能  
> **核心理念**：用对话代替编码，用文档代替记忆，用迭代代替重构

---

## 零、为什么是 Kimi Code？

| 传统开发 | Kimi Code Vibe |
|---------|---------------|
| 先学 React/Node/数据库 | 直接描述需求，AI 生成代码 |
| 记忆大量 API 文档 | 自然语言描述，AI 查文档 |
| 切换 IDE/浏览器/终端 | 一个对话窗口完成所有 |
| 花 80% 时间调 CSS | 截图上传，像素级还原 |

**Kimi Code 独特优势**：
- 🎯 **中文语义理解**：用"那种毛玻璃效果"比"backdrop-blur-md"更有效
- 📎 **文件感知**：直接 `@` 引用项目文件，自动读取上下文
- 🖼️ **视觉编码**：截图 → 代码，支持 Figma/网页/手绘草图
- 🧠 **长记忆**：200K 上下文，一次性吞入整个项目代码

---

## 一、极简装备（3 分钟准备）

### 1.1 必备工具
- **Kimi 客户端**或网页版（kimi.com）
- **Node.js**（如未安装，让 Kimi 生成安装命令）
- **VS Code**（仅用于查看/预览，不用于编码）

### 1.2 项目初始化（一键复制）

在 Kimi 中新建对话，粘贴：

```
我要开始一个新项目：[项目名称]。

先不着急写代码，帮我完成初始化：
1. 运行命令创建 Next.js 15 项目（TypeScript + Tailwind + App Router）
2. 安装常用依赖：zustand react-hook-form zod lucide-react
3. 创建基础文件结构：src/{app,components,hooks,lib,types}
4. 创建 KIMI.md（项目说明书）和 progress.txt（进度追踪）
5. 运行 npm run dev 确认正常

每完成一步告诉我结果。
```

---

## 二、核心里程碑：1+1 文档系统

**放弃复杂的 6 文档体系，只用 2 个文件**：

### 2.1 KIMI.md（AI 操作手册）
**作用**：让 Kimi 记住项目规则，每次会话先读取

**模板**（复制到项目根目录）：

```markdown
# Project: [名称]
# Stack: Next.js 15 + TypeScript + Tailwind + Zustand

## 技术铁律
- Mobile-first: 默认移动端，断点 sm: md: lg:
- 组件：函数式 + Hooks，禁止 Class
- 类型：禁止 any，所有 API 返回定义 interface
- 样式：只用 Tailwind 标准色 slate/blue，禁止 arbitrary values
- 图标：只用 Lucide React

## 文件路径约定
- 页面：src/app/[route]/page.tsx
- 组件：src/components/[Name]/index.tsx
- 工具：src/lib/utils.ts
- 类型：src/types/index.ts

## 当前目标
[每次会话前手动更新，如：实现用户登录表单]

## 已完成
[AI 自动更新，如：项目初始化、数据库连接]
```

### 2.2 progress.txt（对话锚点）
**作用**：解决 Kimi 会话间记忆断层

**模板**：
```
PROJECT: AI 测试平台
UPDATED: 2026-02-22

=== 已完成 ===
- [x] 项目初始化 (Next.js + shadcn)
- [x] 数据库配置 (Prisma + SQLite)
- [x] 登录页 UI (含表单验证)

=== 当前进行 ===
- [ ] 登录 API 接口 (预计 30min)
- 障碍：密码加密方案待确认

=== 下一步 ===
1. 实现 /api/auth/login
2. 连接前端表单
3. 登录状态管理 (Zustand)

=== 技术债务 ===
- 需要把 API 错误处理封装到 lib/api.ts
- 表单错误提示样式不统一
```

---

## 三、四步工作流（标准操作程序）

### Step 1: 审问（5-10 分钟）
**目标**：把模糊想法变成具体需求

**提示词**（每次新项目必用）：

```
我要做 [一句话描述，如：一个 AI 提示词测试工具]。

在写任何代码前，你必须用"苏格拉底式提问"审问我：
- 每次只问 1 个最关键的问题
- 根据我的回答，深入追问细节
- 直到你认为需求完全清晰，没有歧义

从"用户打开这个应用，第一眼看到什么，第一步操作什么"开始。
```

**关键**：不要跳过！审问 10 分钟，节省 10 小时返工。

---

### Step 2: 拆解（文档化）
**目标**：生成可执行的开发清单

**提示词**：

```
基于刚才的审问，生成开发清单：

1. PRD（产品需求）：功能列表、用户故事、验收标准
2. 技术方案：数据模型、API 列表、页面路由
3. 实施计划：按依赖顺序排列的 5-8 个步骤

格式：Markdown，直接复制到文件。
要求：具体到"实现输入框"这种粒度，不要"做前端"这种模糊描述。
```

**操作**：复制输出 → 保存为 `plan.md` → 粘贴回 Kimi"确认计划"

---

### Step 3: 实现（迭代循环）
**目标**：小步快跑，一次一个功能

**会话开场白**（每次必用）：

```
读取 KIMI.md 和 progress.txt。

本次目标：[具体功能，如：实现登录表单，含邮箱验证]

约束：
- 严格按照 plan.md 第 X 步
- 先写 TypeScript 类型定义
- 再写组件逻辑
- 最后写样式
- 每完成一部分让我确认

开始吧。
```

**中途控制指令**：
- **方向偏离**："回到正题，先完成表单提交逻辑，不要管样式"
- **代码太长**："这段代码超过 100 行，拆分成小组件"
- **报错**："运行报错：[粘贴错误]，分析原因并修复"
- **效果不对**："按钮颜色太深，应该是 design.md 中的 slate-600"

---

### Step 4: 验收（Checklist）
**目标**：确保质量，更新进度

**提示词**：

```
对刚才完成的功能进行验收：

1. 代码审查：检查是否有明显 Bug、类型错误、性能问题
2. 规范检查：是否符合 KIMI.md 中的技术铁律
3. 功能验证：列出 3 个测试用例，说明预期结果
4. 更新 progress.txt：标记完成，记录已知问题

输出格式：
- 审查结果：通过/需修改（说明哪里）
- 更新后的 progress.txt 内容
```

---

## 四、提示词宝库（直接复制使用）

### 4.1 视觉还原（截图转代码）

```
上传截图后粘贴：

用 React + Tailwind 精确还原这个界面。

要求：
1. 像素级还原：配色、间距、字体大小、圆角
2. 布局：使用 Flex/Grid，禁止绝对定位（除非是悬浮按钮）
3. 响应式：这是桌面端截图，自动推导移动端布局（折叠/堆叠）
4. 交互：所有按钮添加 hover/active 状态
5. 组件化：拆分为 Header/Content/Sidebar 等逻辑组件

先输出结构分析（这是什么页面，有哪些模块），再输出代码。
```

### 4.2 数据库设计

```
设计数据库表结构，用于 [功能描述]。

要求：
- 使用 Prisma 语法
- 包含字段类型、默认值、索引、外键关系
- 添加注释说明每个字段的业务含义
- 考虑软删除（deletedAt）和更新时间（updatedAt）

输出：
1. schema.prisma 代码
2. 简单的 ER 关系说明
```

### 4.3 API 开发

```
实现 API 端点：[POST /api/users/register]

需求：
- 接收：email, password, name
- 验证：email 格式、password 长度 8+、name 非空
- 处理：密码 bcrypt 加密、检查 email 唯一性
- 返回：JWT token + 用户信息（不包含密码）
- 错误：400 参数错误 / 409 邮箱已存在 / 500 服务器错误

使用 Next.js App Router Route Handlers。
包含详细的注释和类型定义。
```

### 4.4 调试万能公式

```
遇到 Bug 时粘贴：

问题描述：[一句话描述现象]
错误信息：```[完整报错，包括堆栈]```
相关代码：```[相关代码片段]```
预期行为：[应该发生什么]
实际行为：[实际发生什么]

分析步骤：
1. 错误根本原因是什么？
2. 修复方案有哪些？推荐哪个？
3. 给出修复后的完整代码
4. 如何预防类似问题？
```

### 4.5 重构指令

```
重构以下代码：
```[代码]```

目标：
- 提取重复逻辑为自定义 Hook
- 拆分超过 100 行的组件
- 优化类型定义，消除 any
- 保持功能完全一致

先给出重构计划（拆成哪几个文件），再给出代码。
```

---

## 五、实战案例：Todo 应用（完整对话流）

### 会话 1：审问
**你**：我要做一个 Todo 应用。  
**Kimi**：用户打开应用第一眼看到什么？是空列表还是示例任务？  
**你**：看到空列表，但有引导文字"添加你的第一个任务"。  
**Kimi**：任务需要哪些字段？只有文本，还是需要优先级、截止日期、标签？  
**你**：文本 + 优先级（高/中/低）+ 完成状态。  
**Kimi**：数据存储在哪里？本地（localStorage）还是云端（需要登录）？  
**你**：先本地，但要预留后面接数据库的接口。  
...（继续 5-8 轮）...

### 会话 2：初始化与计划
**你**：基于审问，生成计划并初始化项目。  
**Kimi**：输出 plan.md：
1. 项目初始化（Next.js + Tailwind）
2. 类型定义（Todo interface）
3. 状态管理（Zustand + localStorage 持久化）
4. 组件开发（TodoForm/TodoList/TodoItem）
5. 页面组装
6. 样式美化（Neobrutalism 风格）

然后执行初始化命令...

### 会话 3：类型与状态
**你**：读取 KIMI.md，实现类型定义和 Zustand store。  
**Kimi**：生成 types/todo.ts 和 store/todoStore.ts，包含增删改查方法...

### 会话 4：UI 组件
**你**：实现 TodoForm 和 TodoItem 组件，使用 Neobrutalism 风格（厚边框、高对比）。  
**Kimi**：生成组件，展示预览...

### 会话 5：组装与优化
**你**：组装页面，添加动画效果（Framer Motion），并进行代码审查。  
**Kimi**：完成页面，检查潜在问题...

---

## 六、高级技巧

### 6.1 上下文管理（防止 AI 失忆）
- **每 10-15 轮对话**：说"总结当前进度，更新 progress.txt"
- **切换功能时**：新建会话，粘贴 KIMI.md + progress.txt
- **代码过长时**：说"只展示修改的部分，用 diff 格式"

### 6.2 多模态组合拳
1. **手绘草图 → 代码**：拍照上传"大概长这样，实现它"
2. **竞品截图 → 分析**：上传截图"分析这个交互逻辑，给我们的项目用"
3. **报错截图 → 修复**：截屏控制台错误，直接上传

### 6.3 反向 Prompt（让 AI 问你）
当需求模糊时，不说"我要什么"，而是说："为了实现 [目标]，我还需要提供哪些信息？列出你需要知道的所有问题"。

---

## 七、危险信号（立即停止并调整）

当出现以下情况，说明当前方式有问题：

- [ ] **Kimi 开始重复之前的内容** → 上下文满了，新建会话
- [ ] **生成的代码无法运行，修复 3 次还没好** → 回滚到上一个稳定版本，重新描述需求
- [ ] **Kimi 说"根据常见做法..."** → 你的描述太模糊，进入审问模式
- [ ] **一次生成了 5 个以上文件** → 粒度太粗，要求"一次只生成一个组件"
- [ ] **代码中出现大量 any 或 @ts-ignore** → 要求"严格类型，禁止 any"

---

## 八、一键启动包

### 8.1 新项目开场白（复制即用）

```
新项目启动：[项目名]

执行检查清单：
- [ ] 创建 Next.js 15 项目（TS + Tailwind）
- [ ] 安装 Zustand + React Hook Form + Zod + Lucide
- [ ] 创建 src/{components,hooks,lib,types} 目录
- [ ] 创建 KIMI.md（询问我技术栈偏好）
- [ ] 创建 progress.txt（初始状态）
- [ ] 运行 dev 确认正常

完成后，进入审问模式："为了开始开发，我需要了解..."。
```

### 8.2 每日开发开场白

```
读取 KIMI.md 和 progress.txt。

今日目标：[具体功能]

开发前确认：
1. 这个功能依赖哪些已完成的部分？
2. 是否需要新建文件？路径是什么？
3. 潜在的技术难点是什么？

确认后，开始第一步：类型定义。
```

---

## 九、总结：Kimi Code 第一性原理

1. **AI 是实习生**：你需要清晰指令，还要检查成果
2. **文档是代码**：花在 KIMI.md 上的 5 分钟，节省后面 5 小时的解释
3. **小步快跑**：一次一个功能，验证后再下一步
4. **视觉优先**：能截图就别描述，能描述就别暗示
5. **拥抱不完美**：先让 AI 生成 80 分代码，再迭代到 95 分

---

**现在开始**：复制"8.1 新项目开场白"，粘贴到 Kimi，说出你的项目。

**祝编码愉快！** 🚀
