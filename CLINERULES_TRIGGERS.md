# Cline Skill 触发方式速查表

> 📋 本文档汇总 `.clinerules` 中所有 Skill 的触发关键词，方便快速查阅

---

## 🎯 核心 Skill（建议保留）

| Skill | 名称 | 触发关键词 | 使用场景 |
|-------|------|-----------|---------|
| 1 | **成本控制协议** | 自动触发（每轮对话） | 监控 Token 消耗，防止超额 |
| 2 | **大文档分段处理** | "整理文档"、"处理大文件"、文件 > 30,000 字符 | 处理大型文档时自动分段 |
| 8 | **需求审问协议** | "新项目启动"、"开始新项目"、"我要做..." | 新项目开始前澄清需求 |
| 10 | **四步工作流** | "开始开发"、"进入工作流" | 标准开发流程指导 |
| 12 | **调试诊断协议** | "修复这个错误"、"分析原因"、"运行报错" | 系统化调试 Bug |
| 13 | **危险信号检测** | 自动监控 | 检测异常并提醒调整 |

---

## 📊 完整 Skill 列表

### Skill 1: 成本控制协议 (Cost Control)
- **触发方式**: 每轮对话自动执行，无需用户触发
- **检测条件**:
  - 读取文件 > 5,000 字符
  - 批量修改 > 3 个文件
  - 单轮累计 > $0.05
  - 单轮累计 > $0.10
- **快捷指令**: `/cost` - 显示当前累计消耗

---

### Skill 2: 大文档分段处理协议 (Doc Processor)
- **触发方式**: 
  - 检测到引用文件字符数 > 30,000 时自动激活
  - 用户说"整理文档"、"处理大文件"
- **快捷指令**: `/plan` - 重新生成分段/任务计划

---

### Skill 3: 代码重构协议 (Code Refactor)
- **触发关键词**:
  - "重构"
  - "优化代码"
  - "重构 {文件名}"
  - "整理项目结构"

---

### Skill 4: 任务拆解与规划协议 (Task Planner)
- **触发关键词**:
  - "实现"
  - "开发"
  - "做个系统"
  - "添加功能"
  - "从零开始"
- **条件**: 需求涉及多步骤时自动触发
- **快捷指令**: `/next` - 继续下一阶段

---

### Skill 5: 代码审查协议 (Code Review)
- **触发关键词**:
  - "审查代码"
  - "review"
  - "检查这段代码"
  - "看看有什么问题"

---

### Skill 6: Git 提交规范 (Commit Convention)
- **触发关键词**:
  - "生成提交信息"
  - "写 commit"
  - "commit message"
  - "这次改动怎么提交"

---

### Skill 7: 项目知识库上下文 (Project Context)
- **触发关键词**:
  - "根据规范"
  - "按项目风格"
  - "文档里说的"
  - 需要了解项目结构时

---

### Skill 8: 需求审问协议 (Socratic Inquiry) ⭐
- **触发关键词**:
  - "新项目启动"
  - "开始新项目"
  - "我要做..."
  - 需求模糊时
- **核心问题**:
  - "用户打开应用第一眼看到什么？"
  - "核心功能有哪些？"
  - "数据存储在哪里？"

---

### Skill 9: 文档双轨系统 (Doc System)
- **触发关键词**:
  - "创建项目文档"
  - "初始化文档"
  - 新项目初始化时自动创建
- **产出文件**:
  - `KIMI.md` - AI 操作手册
  - `progress.txt` - 进度追踪

---

### Skill 10: 四步工作流 (Workflow) ⭐
- **触发关键词**:
  - "开始开发"
  - "进入工作流"
  - 项目开发过程中自动遵循
- **四步流程**:
  1. 审问 (5-10 分钟)
  2. 拆解 (文档化)
  3. 实现 (迭代循环)
  4. 验收 (Checklist)

---

### Skill 11: 视觉还原协议 (Visual Coding)
- **触发关键词**:
  - "还原这个界面"
  - "实现这个设计"
  - "截图转代码"
- **前提**: 用户上传图片/截图

---

### Skill 12: 调试诊断协议 (Debug Diagnosis) ⭐
- **触发关键词**:
  - "修复这个错误"
  - "分析原因"
  - "运行报错"
- **万能公式**: 问题描述 + 错误信息 + 相关代码 + 预期/实际行为

---

### Skill 13: 危险信号检测 (Danger Signals) ⭐
- **触发方式**: 开发过程中自动监控
- **危险信号清单**:
  - AI 开始重复之前的内容
  - 代码修复 3 次还没好
  - AI 说"根据常见做法..."
  - 一次生成 5 个以上文件
  - 代码中出现大量 any 或 @ts-ignore
  - 单轮累计消耗 > $0.05
  - 上下文占用 > 60%

---

### Skill 14: 上下文管理协议 (Context Management)
- **触发关键词**:
  - "总结进度"
  - "更新 progress"
  - "防止失忆"
- **管理策略**:
  - 每 10-15 轮对话总结
  - 切换功能时新建会话
  - 代码过长时用 diff 格式

---

## 🚀 快速启动模板

### 新项目开场白（复制即用）
```
新项目启动：[项目名]

执行检查清单：
- [ ] 创建 Next.js 15 项目（TS + Tailwind）
- [ ] 安装 Zustand + React Hook Form + Zod + Lucide
- [ ] 创建 src/{components,hooks,lib,types} 目录
- [ ] 创建 KIMI.md（询问我技术栈偏好）
- [ ] 创建 progress.txt（初始状态）
- [ ] 运行 dev 确认正常

完成后，进入审问模式："为了开始开发，我需要了解..."
```

### 每日开发开场白
```
读取 KIMI.md 和 progress.txt。

今日目标：[具体功能]

开发前确认：
1. 这个功能依赖哪些已完成的部分？
2. 是否需要新建文件？路径是什么？
3. 潜在的技术难点是什么？

确认后，开始第一步：类型定义。
```

---

## 📝 快捷指令汇总

| 指令 | 功能 | 所属 Skill |
|------|------|-----------|
| `/next` | 继续下一阶段/下一块内容 | Task Planner |
| `/plan` | 重新生成分段/任务计划 | Doc Processor |
| `/cost` | 显示当前累计消耗 | Cost Control |

---

## ⚠️ 优先级规则

当 Skill 之间发生冲突时，按以下优先级执行：

```
Cost Control (Skill 1) > Doc Processor (Skill 2) > 其他 Skill
```

---

## 🎓 使用建议

1. **新项目必用**: Skill 8 (审问) → Skill 9 (文档) → Skill 10 (工作流)
2. **日常开发**: Skill 10 (工作流) + Skill 14 (上下文管理)
3. **遇到问题**: Skill 12 (调试) + Skill 13 (危险信号)
4. **代码质量**: Skill 5 (审查) + Skill 3 (重构)

---

*最后更新: 2026-02-25 | 共 14 个 Skill*
