# ğŸ› BugHunter - è‡ªä¸»ä»£ç è¯Šæ–­ä¸ä¿®å¤ç³»ç»Ÿ

> èƒ½è‡ªä¸»å‘ç°é—®é¢˜å¹¶è‡ªæˆ‘ä¿®å¤ï¼Œä¸”æŒç»­è¿­ä»£ä¼˜åŒ–çš„æ·±åº¦ä¿®å¤å·¥å…·

## âœ¨ ä¸‰é¡¹å¢å¼ºèƒ½åŠ›å·²å®Œæˆ

### 1ï¸âƒ£ å­¦ä¹ å†å² (Learning History) - TDDæ¨¡å¼
**æ–‡ä»¶**: `bug-pattern-learner.ts` + `bug_patterns.json`

ä¿å­˜é¡¹ç›®æ˜“é”™æ¨¡å¼ï¼ŒæŒç»­å­¦ä¹ æ”¹è¿›ï¼š
- âœ… è‡ªåŠ¨è®°å½•ä¿®å¤è¿‡çš„ Bug æ¨¡å¼
- âœ… è¯†åˆ«é¡¹ç›®ç‰¹å®šçš„å¸¸è§é—®é¢˜
- âœ… åŸºäºå†å²æ•°æ®é¢„æµ‹æ½œåœ¨é—®é¢˜
- âœ… æ”¯æŒæ¨¡å¼åŒ¹é…å¿«é€Ÿå®šä½ç›¸ä¼¼ Bug

**TDD å¼€å‘**: `__tests__/bug-patterns.test.ts`
- ğŸ”´ çº¢é˜¶æ®µ: 12 ä¸ªæµ‹è¯•ç”¨ä¾‹å®šä¹‰æœŸæœ›è¡Œä¸º
- ğŸŸ¢ ç»¿é˜¶æ®µ: `BugPatternLearner` ç±»å®ç°æ‰€æœ‰åŠŸèƒ½
- ğŸ”µ é‡æ„: ä¼˜åŒ–ç›¸ä¼¼åº¦ç®—æ³•å’Œæ•°æ®ç»“æ„

**åŒ…å« 10+ ç§å¸¸è§ Bug æ¨¡å¼**:
- ç©ºæŒ‡é’ˆ/æœªå®šä¹‰è®¿é—® (BP001)
- å¼‚æ­¥é”™è¯¯å¤„ç†ç¼ºå¤± (BP002)
- TypeScript ç±»å‹é”™è¯¯ (BP003)
- å†…å­˜æ³„æ¼ (BP004)
- ç«æ€æ¡ä»¶ (BP005)
- SQL æ³¨å…¥æ¼æ´ (SEC001)
- XSS è·¨ç«™è„šæœ¬æ”»å‡» (SEC002)
- æ•æ„Ÿä¿¡æ¯ç¡¬ç¼–ç  (SEC003)
- N+1 æŸ¥è¯¢é—®é¢˜ (PERF001)
- æ— é™å¾ªç¯/æ­»å¾ªç¯ (PERF002)

---

### 2ï¸âƒ£ æ™ºèƒ½æµ‹è¯•é›†æˆ (Smart Testing) - TDDæ¨¡å¼
**æ–‡ä»¶**: `test-integration.ts` + `test-integrations.json`

é›†æˆå¤šç§æµ‹è¯•æ¡†æ¶è‡ªåŠ¨éªŒè¯ä¿®å¤ï¼š
- âœ… è‡ªåŠ¨æ£€æµ‹é¡¹ç›®ä½¿ç”¨çš„æµ‹è¯•æ¡†æ¶
- âœ… ä¿®å¤åè‡ªåŠ¨è¿è¡Œç›¸å…³æµ‹è¯•
- âœ… æ™ºèƒ½é€‰æ‹©å—å½±å“çš„æµ‹è¯•ç”¨ä¾‹
- âœ… ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
- âœ… ä¸ºæ— æµ‹è¯•è¦†ç›–çš„ Bug ç”Ÿæˆæµ‹è¯•æ¨¡æ¿

**TDD å¼€å‘**: `__tests__/test-integrations.test.ts`
- ğŸ”´ çº¢é˜¶æ®µ: 15 ä¸ªæµ‹è¯•ç”¨ä¾‹å®šä¹‰æœŸæœ›è¡Œä¸º
- ğŸŸ¢ ç»¿é˜¶æ®µ: `TestIntegration` ç±»å®ç°æ‰€æœ‰åŠŸèƒ½
- ğŸ”µ é‡æ„: ä¼˜åŒ–æ¡†æ¶æ£€æµ‹å’Œæµ‹è¯•é€‰æ‹©ç®—æ³•

**æ”¯æŒçš„è¯­è¨€å’Œæ¡†æ¶**:
| è¯­è¨€ | æ”¯æŒçš„æ¡†æ¶ |
|------|-----------|
| JavaScript/TypeScript | Jest, Vitest, Playwright, Cypress |
| Python | pytest, unittest |
| Rust | Cargo Test |
| Go | go test |
| Java | Maven, Gradle |

---

### 3ï¸âƒ£ å¯è§†åŒ–æŠ¥å‘Šç”Ÿæˆ (Visual Reports) - TDDæ¨¡å¼
**æ–‡ä»¶**: `report-generator.ts`

ç”Ÿæˆ HTML æŠ¥å‘Šå¸¦ä»£ç  diff é«˜äº®å’Œå›¾è¡¨ï¼š
- âœ… æ”¯æŒ HTML/Markdown/JSON ä¸‰ç§æ ¼å¼
- âœ… ä»£ç  diff é«˜äº®å¯¹æ¯”ï¼ˆBefore/Afterï¼‰
- âœ… SVG å›¾è¡¨å±•ç¤º Bug åˆ†å¸ƒ
- âœ… ä»£ç å¥åº·åº¦è¯„åˆ†ç³»ç»Ÿ (0-100%)
- âœ… å“åº”å¼è®¾è®¡æ”¯æŒç§»åŠ¨ç«¯
- âœ… å¯æŠ˜å /æœç´¢çš„äº¤äº’åŠŸèƒ½
- âœ… æš—é»‘/æ˜äº®ä¸»é¢˜åˆ‡æ¢

**TDD å¼€å‘**: `__tests__/report-generator.test.ts`
- ğŸ”´ çº¢é˜¶æ®µ: 10 ä¸ªæµ‹è¯•ç”¨ä¾‹å®šä¹‰æœŸæœ›è¡Œä¸º
- ğŸŸ¢ ç»¿é˜¶æ®µ: `ReportGenerator` ç±»å®ç°æ‰€æœ‰åŠŸèƒ½
- ğŸ”µ é‡æ„: ä¼˜åŒ– CSS ç”Ÿæˆå’Œå›¾è¡¨æ¸²æŸ“

**æŠ¥å‘Šç‰¹æ€§**:
```typescript
// ç”Ÿæˆå®Œæ•´åŠŸèƒ½çš„ HTML æŠ¥å‘Š
const options: ReportOptions = {
  format: 'html',
  title: 'BugHunter ä¿®å¤æŠ¥å‘Š',
  includeDiff: true,      // ä»£ç å¯¹æ¯”
  includeCharts: true,   // SVG å›¾è¡¨
  theme: 'dark',          // ä¸»é¢˜
  collapsible: true,      // å¯æŠ˜å 
  searchable: true,        // å¯æœç´¢
  outputPath: './reports/bughunter-report.html'
};
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å¯åŠ¨ BugHunter
```bash
# è‡ªç„¶è¯­è¨€å¯åŠ¨
"å¯åŠ¨ BugHunterï¼Œæ·±åº¦ä¿®å¤æ¨¡å¼"
"å¼€å§‹æŒç»­è¿­ä»£ä¼˜åŒ–ï¼Œæ¯è½®ç»“æŸé—®æˆ‘"
"ç‹™å‡»æ‰€æœ‰ SQL æ³¨å…¥æ¼æ´"

# å¿«æ·æŒ‡ä»¤
/bughunter              # å¯åŠ¨é»˜è®¤æ¨¡å¼
/bughunter stop         # åœæ­¢å¾ªç¯
/bughunter next         # è¿›å…¥ä¸‹ä¸€è½®
/bughunter report       # ç”ŸæˆçŠ¶æ€æŠ¥å‘Š
```

### ä½¿ç”¨æŠ¥å‘Šç”Ÿæˆå™¨
```typescript
import { ReportGenerator, BugReport } from './report-generator';

const generator = new ReportGenerator();

// ç”Ÿæˆ HTML æŠ¥å‘Š
await generator.saveReport(bugs, {
  format: 'html',
  includeDiff: true,
  includeCharts: true,
  theme: 'dark'
});

// è®¡ç®—è´¨é‡æŒ‡æ ‡
const metrics = generator.calculateMetrics(bugs);
console.log(`ä»£ç å¥åº·åº¦: ${metrics.healthScore}%`);

// å¯¹æ¯”ä¿®å¤å‰å
const comparison = generator.compareMetrics(before, after);
console.log(`æå‡: ${comparison.healthDelta}%`);
```

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
.kimi/skills/bughunter/
â”œâ”€â”€ README.md                    # æœ¬æ–‡æ¡£
â”œâ”€â”€ config.json                  # æ•´åˆé…ç½®æ–‡ä»¶
â”œâ”€â”€ bug_patterns.json            # å¢å¼ºèƒ½åŠ›1: å­¦ä¹ å†å²
â”œâ”€â”€ test-integrations.json       # å¢å¼ºèƒ½åŠ›2: æ™ºèƒ½æµ‹è¯•
â”œâ”€â”€ report-generator.ts          # å¢å¼ºèƒ½åŠ›3: å¯è§†åŒ–æŠ¥å‘Š
â”œâ”€â”€ example-usage.ts             # ä½¿ç”¨ç¤ºä¾‹
â””â”€â”€ __tests__/
    â””â”€â”€ report-generator.test.ts  # TDD æµ‹è¯•æ–‡ä»¶
```

---

## ğŸ”„ TDD å¼€å‘æµç¨‹

å¯è§†åŒ–æŠ¥å‘ŠåŠŸèƒ½é‡‡ç”¨ TDD æ¨¡å¼å¼€å‘ï¼š

1. **ğŸ”´ çº¢é˜¶æ®µ**: ç¼–å†™æµ‹è¯•å®šä¹‰æœŸæœ›è¡Œä¸º
   - åˆ›å»º `report-generator.test.ts`
   - å®šä¹‰ 10+ ä¸ªæµ‹è¯•ç”¨ä¾‹

2. **ğŸŸ¢ ç»¿é˜¶æ®µ**: å®ç°åŠŸèƒ½ä½¿æµ‹è¯•é€šè¿‡
   - åˆ›å»º `report-generator.ts`
   - å®ç°æ‰€æœ‰æµ‹è¯•è¦æ±‚çš„åŠŸèƒ½

3. **ğŸ”µ é‡æ„é˜¶æ®µ**: ä¼˜åŒ–ä»£ç ç»“æ„
   - æå–å…¬å…±æ–¹æ³•
   - ä¼˜åŒ–ç±»å‹å®šä¹‰
   - å®Œå–„é”™è¯¯å¤„ç†

---

## ğŸ¯ å·¥ä½œæµç¨‹

```
æ‰«æ (bug_patterns.json)
  â†“
åˆ†æ (bug_patterns.json)
  â†“
ä¿®å¤ (bug_patterns.json)
  â†“
éªŒè¯ (test-integrations.json)
  â†“
æŠ¥å‘Š (report-generator.ts)
```

---

## ğŸ“Š æŠ¥å‘Šç¤ºä¾‹

### HTML æŠ¥å‘ŠåŒ…å«ï¼š
- ğŸ“Š è´¨é‡æ¦‚è§ˆé¢æ¿ï¼ˆå¥åº·åº¦ã€Bug æ•°ã€ä¿®å¤ç‡ï¼‰
- ğŸ“ˆ SVG å›¾è¡¨ï¼ˆç±»å‹åˆ†å¸ƒã€ä¸¥é‡ç¨‹åº¦åˆ†å¸ƒï¼‰
- ğŸ› Bug è¯¦æƒ…å¡ç‰‡ï¼ˆæ”¯æŒæŠ˜å /å±•å¼€ï¼‰
- ğŸ“ ä»£ç  diff é«˜äº®ï¼ˆBefore/After å¯¹æ¯”ï¼‰
- ğŸ” å®æ—¶æœç´¢è¿‡æ»¤åŠŸèƒ½
- ğŸ¨ æš—é»‘/æ˜äº®ä¸»é¢˜

### Markdown æŠ¥å‘Šï¼š
- Git å‹å¥½çš„çº¯æ–‡æœ¬æ ¼å¼
- é€‚åˆæäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
- æ”¯æŒåœ¨ GitHub/GitLab ä¸­æ¸²æŸ“

### JSON æŠ¥å‘Šï¼š
- æœºå™¨å¯è¯»çš„ç»“æ„åŒ–æ•°æ®
- é€‚åˆ API é›†æˆå’Œè‡ªåŠ¨åŒ–å¤„ç†

---

## ğŸ”§ é›†æˆé…ç½®

### .clinerules é›†æˆ
```
Skill 27: BugHunter - è‡ªä¸»ä»£ç è¯Šæ–­ä¸ä¿®å¤ç³»ç»Ÿ
è§¦å‘è¯: "BugHunter", "æ·±åº¦ä¿®å¤", "è‡ªåŠ¨ä¿®å¤", "æŒç»­ä¼˜åŒ–", "æ‰«æä¿®å¤"
```

### MCP å·¥å…·é›†æˆ
å¯ä½œä¸º MCP (Model Context Protocol) å·¥å…·ä½¿ç”¨ï¼š
- `scan_codebase` - æ‰«æä»£ç åº“
- `analyze_issues` - åˆ†æé—®é¢˜
- `apply_fixes` - åº”ç”¨ä¿®å¤
- `generate_report` - ç”ŸæˆæŠ¥å‘Š

---

## ğŸ›¡ï¸ å®‰å…¨ä¸çº¦æŸ

### å®‰å…¨åŸåˆ™
- ä¿®æ”¹å‰è‡ªåŠ¨åˆ›å»º git stash / å¤‡ä»½åˆ†æ”¯
- å•æ–‡ä»¶å˜æ›´è¶…è¿‡ 50% æ—¶æš‚åœç­‰å¾…ç¡®è®¤
- æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¿®æ”¹éœ€äººå·¥å®¡æ‰¹

### éªŒè¯åŸåˆ™
- æ¯æ¬¡ä¿®å¤åå¿…é¡»è¿è¡Œç›¸å…³æµ‹è¯•
- æ— æµ‹è¯•è¦†ç›–çš„ä»£ç è¦æ±‚å…ˆç”Ÿæˆæµ‹è¯•ç”¨ä¾‹
- æµ‹è¯•å¤±è´¥è‡ªåŠ¨å›æ»šå¹¶æ ‡è®°

### æ”¶æ•›åŸåˆ™
- è®°å½•æ¯è½®ä¿®å¤çš„é—®é¢˜æŒ‡çº¹ (æ–‡ä»¶+ä½ç½®+ç±»å‹)
- åŒä¸€ä½ç½®é‡å¤å‡ºç°é—®é¢˜æ—¶å‡çº§å‘Šè­¦
- è¿ç»­ 3 è½®æ— æ–°é—®é¢˜åˆ™è‡ªåŠ¨åœæ­¢

---

## ğŸ“ˆ æœªæ¥å¢å¼º

- [ ] CI/CD é›†æˆ (GitHub Actions, GitLab CI)
- [ ] æœºå™¨å­¦ä¹  Bug é¢„æµ‹
- [ ] å›¢é˜Ÿåä½œå’Œä»£ç å®¡æŸ¥é›†æˆ
- [ ] å®æ—¶ IDE æ’ä»¶æ”¯æŒ

---

**ç”± BugHunter è‡ªåŠ¨ç”Ÿæˆ** ğŸ’ª  
*æŒç»­æ”¹è¿›ä»£ç è´¨é‡ï¼Œæ°¸ä¸åœæ­‡*
