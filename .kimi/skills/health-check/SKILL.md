---
name: health-check
description: 项目健康度检查 - 自动执行成本核算、上下文压缩、危险信号检查、代码审查、文档更新
---

# Health Check Skill

一键执行完整的项目健康度检查流程。

## 触发方式

```bash
/skill:health-check
```

或关键词：
- "检查健康度"
- "项目体检"
- "健康检查"

## 执行流程

自动按顺序执行以下 Skills：

```
┌─────────────────────────────────────────────────────────────┐
│  Step 1: cost-control                                       │
│  ├─ 显示当前累计消耗                                         │
│  └─ 检查是否超过阈值 ($0.05 / $0.10)                        │
├─────────────────────────────────────────────────────────────┤
│  Step 2: context-management                                 │
│  ├─ 压缩上下文，保留关键信息                                  │
│  └─ 输出当前进度摘要                                         │
├─────────────────────────────────────────────────────────────┤
│  Step 3: danger-signals                                     │
│  ├─ 检查危险信号（重复修复、大文件生成等）                     │
│  └─ 输出风险提示                                             │
├─────────────────────────────────────────────────────────────┤
│  Step 4: code-review                                        │
│  ├─ 扫描最近修改的代码                                        │
│  └─ 输出健康度报告（测试/构建/类型检查）                       │
├─────────────────────────────────────────────────────────────┤
│  Step 5: doc-system                                         │
│  ├─ 更新 progress.txt                                       │
│  └─ 总结当前状态                                             │
├─────────────────────────────────────────────────────────────┤
│  Step 6: cost-control (总结)                                │
│  └─ 输出本轮检查总消耗                                        │
└─────────────────────────────────────────────────────────────┘
```

## 输出示例

```
🩺 健康检查开始

Step 1/6: 成本核算
  📊 当前累计: $0.089 | 15轮对话
  💡 状态: 正常 (< $0.10)

Step 2/6: 上下文压缩
  💾 上下文已压缩
  📌 当前任务: API开发完成80%

Step 3/6: 危险信号检查
  ⚠️ 警告: 上下文占用 > 60%
  建议: 执行 /compact 或新开会话

Step 4/6: 代码审查
  ✅ 构建状态: 通过
  ✅ 测试: 104/104 通过
  ⚠️  TypeScript: 27个错误（非阻塞）

Step 5/6: 文档更新
  📝 已更新 progress.txt

Step 6/6: 总结
  📊 检查耗时: $0.012
  🎯 整体健康度: 良好
```

## 与单个 Skill 的区别

| 命令 | 行为 |
|-----|------|
| `/cost` | 仅显示成本 |
| `/compact` | 仅压缩上下文 |
| `/skill:health-check` | 完整6步健康检查 |
